{"ast":null,"code":"const _excluded = [\"text\", \"isPlaceholder\", \"placeholder\"],\n  _excluded2 = [\"value\", \"onChange\", \"disabled\", \"getInputText\", \"getSizeText\", \"placeholder\", \"hideSizeText\", \"inputProps\", \"InputProps\", \"multiple\", \"className\", \"clearIconButtonProps\"],\n  _excluded3 = [\"className\"],\n  _excluded4 = [\"startAdornment\"];\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { jsxs as y, jsx as a } from \"react/jsx-runtime\";\nimport u from \"react\";\nimport { styled as M } from \"@mui/material/styles\";\nimport R from \"@mui/material/IconButton\";\nimport b from \"@mui/material/InputAdornment\";\nimport U from \"@mui/material/TextField\";\nimport G from \"@mui/material/Typography\";\nconst Z = [\"B\", \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\n  _ = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"],\n  j = [\"b\", \"kbit\", \"Mbit\", \"Gbit\", \"Tbit\", \"Pbit\", \"Ebit\", \"Zbit\", \"Ybit\"],\n  O = [\"b\", \"kibit\", \"Mibit\", \"Gibit\", \"Tibit\", \"Pibit\", \"Eibit\", \"Zibit\", \"Yibit\"],\n  F = (e, i, t) => {\n    let n = e;\n    return typeof i == \"string\" || Array.isArray(i) ? n = e.toLocaleString(i, t) : (i === !0 || t !== void 0) && (n = e.toLocaleString(void 0, t)), n;\n  };\nfunction A(e, i) {\n  if (!Number.isFinite(e)) throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);\n  i = _objectSpread({\n    bits: !1,\n    binary: !1,\n    space: !0\n  }, i);\n  const t = i.bits ? i.binary ? O : j : i.binary ? _ : Z,\n    n = i.space ? \" \" : \"\";\n  if (i.signed && e === 0) return ` 0${n}${t[0]}`;\n  const l = e < 0,\n    s = l ? \"-\" : i.signed ? \"+\" : \"\";\n  l && (e = -e);\n  let r;\n  if (i.minimumFractionDigits !== void 0 && (r = {\n    minimumFractionDigits: i.minimumFractionDigits\n  }), i.maximumFractionDigits !== void 0 && (r = _objectSpread({\n    maximumFractionDigits: i.maximumFractionDigits\n  }, r)), e < 1) {\n    const p = F(e, i.locale, r);\n    return s + p + n + t[0];\n  }\n  const f = Math.min(Math.floor(i.binary ? Math.log(e) / Math.log(1024) : Math.log10(e) / 3), t.length - 1);\n  e /= (i.binary ? 1024 : 1e3) ** f, r || (e = e.toPrecision(3));\n  const g = F(Number(e), i.locale, r),\n    d = t[f];\n  return s + g + n + d;\n}\nconst W = M(\"label\")`\n  position: relative;\n  flex-grow: 1;\n\n  input {\n    opacity: 0 !important;\n  }\n\n  & > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n  }\n\n  span.MuiFileInput-placeholder {\n    color: gray;\n  }\n`,\n  H = M(\"div\")`\n  display: flex;\n  width: 100%;\n\n  & > span {\n    display: block;\n  }\n\n  & > span:first-of-type {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  & > span:last-of-type {\n    flex-shrink: 0;\n    display: block;\n  }\n`,\n  P = {\n    Label: W,\n    Filename: H\n  },\n  K = /*#__PURE__*/u.forwardRef((e, i) => {\n    const t = e.text,\n      n = e.isPlaceholder,\n      l = e.placeholder,\n      s = _objectWithoutProperties(e, _excluded),\n      r = u.useId();\n    return /* @__PURE__ */y(P.Label, {\n      htmlFor: r,\n      children: [/* @__PURE__ */a(\"input\", _objectSpread(_objectSpread({}, s), {}, {\n        ref: i,\n        id: r\n      })), t ? /* @__PURE__ */a(\"span\", {\n        \"aria-placeholder\": l,\n        className: n ? \"MuiFileInput-placeholder\" : \"\",\n        children: typeof t == \"string\" ? t : /* @__PURE__ */y(P.Filename, {\n          children: [/* @__PURE__ */a(\"span\", {\n            children: t.filename\n          }), /* @__PURE__ */y(\"span\", {\n            children: [\".\", t.extension]\n          })]\n        })\n      }) : null]\n    });\n  });\nfunction V(e) {\n  return e.length > 0;\n}\nfunction q(e) {\n  return e.reduce((i, t) => i + t.size, 0);\n}\nfunction x(e) {\n  return typeof window < \"u\" && e instanceof File;\n}\nfunction J(e) {\n  return Array.from(e);\n}\nfunction Q(e) {\n  const t = (x(e) ? e.name : e[0]?.name || \"\").split(\".\"),\n    n = t.pop();\n  return {\n    filename: t.join(\".\"),\n    extension: n\n  };\n}\nconst X = typeof window < \"u\" ? u.useLayoutEffect : u.useEffect,\n  st = /*#__PURE__*/u.forwardRef((e, i) => {\n    const t = e.value,\n      n = e.onChange,\n      l = e.disabled,\n      s = e.getInputText,\n      r = e.getSizeText,\n      f = e.placeholder,\n      g = e.hideSizeText,\n      d = e.inputProps,\n      p = e.InputProps,\n      I = e.multiple,\n      N = e.className,\n      _e$clearIconButtonPro = e.clearIconButtonProps,\n      S = _e$clearIconButtonPro === void 0 ? {} : _e$clearIconButtonPro,\n      E = _objectWithoutProperties(e, _excluded2),\n      _S$className = S.className,\n      w = _S$className === void 0 ? \"\" : _S$className,\n      v = _objectWithoutProperties(S, _excluded3),\n      m = u.useRef(null),\n      _ref = p || {},\n      C = _ref.startAdornment,\n      z = _objectWithoutProperties(_ref, _excluded4),\n      L = I || d?.multiple || p?.inputProps?.multiple || !1,\n      B = () => {\n        m.current && (m.current.value = \"\");\n      },\n      D = o => {\n        const T = o.target.files,\n          h = T ? J(T) : [];\n        I ? (n?.(h), h.length === 0 && B()) : (n?.(h[0] || null), h[0] || B());\n      },\n      k = o => {\n        o.preventDefault(), !l && n?.(I ? [] : null);\n      },\n      c = Array.isArray(t) ? V(t) : x(t);\n    X(() => {\n      const o = m.current;\n      o && !c && (o.value = \"\");\n    }, [c]);\n    const $ = () => t === null || Array.isArray(t) && t.length === 0 ? f || \"\" : typeof s == \"function\" && t !== void 0 ? s(t) : t && c ? Array.isArray(t) && t.length > 1 ? `${t.length} files` : Q(t) : \"\",\n      Y = () => {\n        if (typeof r == \"function\" && t !== void 0) return r(t);\n        if (c) {\n          if (Array.isArray(t)) {\n            const o = q(t);\n            return A(o);\n          }\n          if (x(t)) return A(t.size);\n        }\n        return \"\";\n      };\n    return /* @__PURE__ */a(U, _objectSpread({\n      ref: i,\n      type: \"file\",\n      disabled: l,\n      onChange: D,\n      className: `MuiFileInput-TextField ${N || \"\"}`,\n      InputProps: _objectSpread(_objectSpread({\n        startAdornment: /* @__PURE__ */a(b, {\n          position: \"start\",\n          children: C\n        }),\n        endAdornment: /* @__PURE__ */y(b, {\n          position: \"end\",\n          style: {\n            visibility: c ? \"visible\" : \"hidden\"\n          },\n          children: [g ? null : /* @__PURE__ */a(G, {\n            variant: \"caption\",\n            mr: \"2px\",\n            lineHeight: 1,\n            className: \"MuiFileInput-Typography-size-text\",\n            children: Y()\n          }), /* @__PURE__ */a(R, _objectSpread({\n            \"aria-label\": \"Clear\",\n            title: \"Clear\",\n            size: \"small\",\n            disabled: l,\n            className: `${w} MuiFileInput-ClearIconButton`,\n            onClick: k\n          }, v))]\n        })\n      }, z), {}, {\n        inputProps: _objectSpread(_objectSpread({\n          text: $(),\n          multiple: L,\n          ref: m,\n          isPlaceholder: !c,\n          placeholder: f\n        }, d), p?.inputProps),\n        inputComponent: K\n      })\n    }, E));\n  });\nexport { st as MuiFileInput };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}