{"ast":null,"code":"const _excluded = [\"children\", \"direction\", \"items\"],\n  _excluded2 = [\"children\", \"items\"],\n  _excluded3 = [\"className\", \"isSearchable\", \"isPaginated\", \"items\", \"itemsPerPage\", \"searchFilter\", \"searchLabel\", \"searchNoResultsFound\", \"searchPlaceholder\", \"type\", \"testId\"];\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nimport { ComponentClassName, classNames } from '@aws-amplify/ui';\nimport * as React from 'react';\nimport debounce from 'lodash/debounce.js';\nimport { Flex } from '../Flex/Flex.mjs';\nimport { Grid } from '../Grid/Grid.mjs';\nimport { Text } from '../Text/Text.mjs';\nimport { Pagination } from '../Pagination/Pagination.mjs';\nimport { usePagination } from '../Pagination/usePagination.mjs';\nimport { SearchField } from '../SearchField/SearchField.mjs';\nimport { ComponentText } from '../shared/constants.mjs';\nimport { strHasLength } from '../shared/utils.mjs';\nimport { getPageCount, getItemsAtPage, itemHasText } from './utils.mjs';\nconst DEFAULT_PAGE_SIZE = 10;\nconst TYPEAHEAD_DELAY_MS = 300;\nconst ListCollection = _ref => {\n  let children = _ref.children,\n    _ref$direction = _ref.direction,\n    direction = _ref$direction === void 0 ? 'column' : _ref$direction,\n    items = _ref.items,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(Flex, _objectSpread({\n    direction: direction\n  }, rest), Array.isArray(items) ? items.map(children) : null);\n};\nconst GridCollection = _ref2 => {\n  let children = _ref2.children,\n    items = _ref2.items,\n    rest = _objectWithoutProperties(_ref2, _excluded2);\n  return /*#__PURE__*/React.createElement(Grid, _objectSpread({}, rest), Array.isArray(items) ? items.map(children) : null);\n};\nconst renderCollectionOrNoResultsFound = (collection, items, searchNoResultsFound) => {\n  if (items.length) {\n    return collection;\n  }\n  if (searchNoResultsFound) {\n    return searchNoResultsFound;\n  }\n  return /*#__PURE__*/React.createElement(Flex, {\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(Text, null, ComponentText.Collection.searchNoResultsFound));\n};\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/components/collection)\n */\nconst Collection = _ref3 => {\n  let className = _ref3.className,\n    isSearchable = _ref3.isSearchable,\n    isPaginated = _ref3.isPaginated,\n    items = _ref3.items,\n    _ref3$itemsPerPage = _ref3.itemsPerPage,\n    itemsPerPage = _ref3$itemsPerPage === void 0 ? DEFAULT_PAGE_SIZE : _ref3$itemsPerPage,\n    _ref3$searchFilter = _ref3.searchFilter,\n    searchFilter = _ref3$searchFilter === void 0 ? itemHasText : _ref3$searchFilter,\n    _ref3$searchLabel = _ref3.searchLabel,\n    searchLabel = _ref3$searchLabel === void 0 ? ComponentText.Collection.searchButtonLabel : _ref3$searchLabel,\n    searchNoResultsFound = _ref3.searchNoResultsFound,\n    searchPlaceholder = _ref3.searchPlaceholder,\n    _ref3$type = _ref3.type,\n    type = _ref3$type === void 0 ? 'list' : _ref3$type,\n    testId = _ref3.testId,\n    rest = _objectWithoutProperties(_ref3, _excluded3);\n  const _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    searchText = _React$useState2[0],\n    setSearchText = _React$useState2[1];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const onSearch = React.useCallback(debounce(setSearchText, TYPEAHEAD_DELAY_MS), [setSearchText]);\n  // Make sure that items are iterable\n  items = Array.isArray(items) ? items : [];\n  // Filter items by text\n  if (isSearchable && strHasLength(searchText)) {\n    items = items.filter(item => searchFilter(item, searchText));\n  }\n  // Pagination\n  const pagination = usePagination({\n    totalPages: getPageCount(items.length, itemsPerPage)\n  });\n  if (isPaginated) {\n    items = getItemsAtPage(items, pagination.currentPage, itemsPerPage);\n  }\n  const collection = type === 'list' ? ( /*#__PURE__*/React.createElement(ListCollection, _objectSpread({\n    className: ComponentClassName.CollectionItems,\n    items: items\n  }, rest))) : type === 'grid' ? ( /*#__PURE__*/React.createElement(GridCollection, _objectSpread({\n    className: ComponentClassName.CollectionItems,\n    items: items\n  }, rest))) : null;\n  return /*#__PURE__*/React.createElement(Flex, {\n    testId: testId,\n    className: classNames(ComponentClassName.Collection, className)\n  }, isSearchable ? ( /*#__PURE__*/React.createElement(Flex, {\n    className: ComponentClassName.CollectionSearch\n  }, /*#__PURE__*/React.createElement(SearchField, {\n    label: searchLabel,\n    placeholder: searchPlaceholder,\n    onChange: e => onSearch(e.target.value),\n    onClear: () => setSearchText('')\n  }))) : null, renderCollectionOrNoResultsFound(collection, items, searchNoResultsFound), isPaginated ? ( /*#__PURE__*/React.createElement(Flex, {\n    className: ComponentClassName.CollectionPagination\n  }, /*#__PURE__*/React.createElement(Pagination, _objectSpread({}, pagination)))) : null);\n};\nCollection.displayName = 'Collection';\nexport { Collection };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}