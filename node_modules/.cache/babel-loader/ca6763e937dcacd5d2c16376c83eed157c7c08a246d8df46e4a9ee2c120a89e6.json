{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/project-ges/app/javascript/components/profile/EditProfile.tsx\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport React, { useState } from 'react';\nimport { Formik } from 'formik';\nimport { useMutation } from '@apollo/client';\nimport EditUserForm from '../forms/EditUserForm';\nimport { UserUpdateSchema } from '../schema';\nimport Banner from '../shared/Banner';\nimport { UPDATE_USER } from '../api/mutations';\nvar initial = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  phone: ''\n};\nexport default function EditProfile(_ref) {\n  var user = _ref.user;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    message = _useState2[0],\n    setMessage = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    severity = _useState4[0],\n    setSeverity = _useState4[1];\n  var _useMutation = useMutation(UPDATE_USER, {\n      onCompleted: function onCompleted(data) {\n        if (!!data) {\n          setSeverity('success');\n          setMessage('Account was successfully updated, a confirmation link was sent to your email');\n        }\n      },\n      onError: function onError() {\n        setSeverity('error');\n        setMessage('Sorry, account update was unsuccessful');\n      }\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 1),\n    mutate = _useMutation2[0];\n  var handleSubmit = function handleSubmit(event) {\n    mutate({\n      variables: {\n        firstName: event.firstName,\n        lastName: event.lastName,\n        image: event.imageUrl,\n        email: event.email,\n        phone: event.phone\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, message && /*#__PURE__*/React.createElement(Banner, {\n    severity: severity,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    enableReinitialize: true,\n    onSubmit: handleSubmit,\n    initialValues: initial,\n    validationSchema: UserUpdateSchema,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(EditUserForm, {\n    initialValues: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"names":["React","useState","Formik","useMutation","EditUserForm","UserUpdateSchema","Banner","UPDATE_USER","initial","firstName","lastName","email","phone","EditProfile","_ref","user","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","severity","setSeverity","_useMutation","onCompleted","data","onError","_useMutation2","mutate","handleSubmit","event","variables","image","imageUrl","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","enableReinitialize","onSubmit","initialValues","validationSchema"],"sources":["/Users/admin/Desktop/project-ges/app/javascript/components/profile/EditProfile.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Formik } from 'formik'\nimport { useMutation } from '@apollo/client'\nimport { User } from '../interface/index'\nimport EditUserForm from '../forms/EditUserForm'\nimport { UserUpdateSchema } from '../schema'\nimport Banner from '../shared/Banner'\nimport { UPDATE_USER } from '../api/mutations'\n\ninterface Props {\n  user: User\n  showAuth: boolean\n}\n\nconst initial = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  phone: '',\n}\n\nexport default function EditProfile({ user }): JSX.Element {\n  const [message, setMessage] = useState('')\n  const [severity, setSeverity] = useState(null)\n  const [mutate] = useMutation(UPDATE_USER, {\n    onCompleted: (data) => {\n      if (!!data) {\n        setSeverity('success')\n        setMessage('Account was successfully updated, a confirmation link was sent to your email')\n      }\n    },\n    onError: () => {\n      setSeverity('error')\n      setMessage('Sorry, account update was unsuccessful')\n    }\n  })\n\n  const handleSubmit = (event: User) => {\n    mutate({\n      variables: {\n        firstName: event.firstName,\n        lastName: event.lastName,\n        image: event.imageUrl,\n        email: event.email,\n        phone: event.phone,\n      }\n    })\n  }\n\n  return (\n    <>\n      {message && <Banner severity={severity} message={message} />}\n      <br />\n      <Formik\n        enableReinitialize\n        onSubmit={handleSubmit}\n        initialValues={initial}\n        validationSchema={UserUpdateSchema}\n      >\n        <EditUserForm initialValues={user} />\n      </Formik>\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}