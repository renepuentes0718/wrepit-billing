{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/project-ges/app/javascript/components/main/AccountMenu.tsx\",\n  _templateObject,\n  _templateObject2;\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\nimport React, { useState } from 'react';\nimport { Logout } from '@mui/icons-material';\nimport { gql, useMutation, useQuery } from '@apollo/client';\nimport { Box, Avatar, Menu, MenuItem, ListItemIcon, Divider, IconButton, Tooltip } from '@mui/material';\nimport Loading from '../shared/Loading';\nvar CURRENT_USER = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nquery CurrentUser {\\n  currentUser{\\n    firstName\\n    imageUrl\\n  }\\n}\\n\"])));\nvar LOGOUT_USER = gql(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\nmutation LogoutUser(\\n  $email: String!\\n) {\\n  logoutUser(\\n    input: {\\n      email: $email,\\n    }\\n  ){\\n    id\\n  }\\n}\\n\"])));\nexport default function AccountMenu() {\n  var _data$currentUser;\n  var _useMutation = useMutation(LOGOUT_USER, {\n      onCompleted: function onCompleted() {\n        window.location.replace('/log_in');\n      }\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 1),\n    logout = _useMutation2[0];\n  var _useQuery = useQuery(CURRENT_USER),\n    data = _useQuery.data,\n    loading = _useQuery.loading;\n  console.log(loading);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    anchorEl = _useState2[0],\n    setAnchorEl = _useState2[1];\n  var open = Boolean(anchorEl);\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n  var redirectToProfile = function redirectToProfile() {\n    return window.location.replace('/profile');\n  };\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Account settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleClick,\n    size: \"medium\",\n    sx: {\n      paddingTop: 0\n    },\n    \"aria-controls\": open ? 'account-menu' : undefined,\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": open ? 'true' : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    sx: {\n      width: 40,\n      height: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, _toConsumableArray(data === null || data === void 0 || (_data$currentUser = data.currentUser) === null || _data$currentUser === void 0 ? void 0 : _data$currentUser.firstName)[0])))), /*#__PURE__*/React.createElement(Menu, {\n    anchorEl: anchorEl,\n    id: \"account-menu\",\n    open: open,\n    onClose: handleClose,\n    onClick: handleClose,\n    PaperProps: {\n      elevation: 0,\n      sx: {\n        overflow: 'visible',\n        filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n        mt: 1.5,\n        '& .MuiAvatar-root': {\n          width: 32,\n          height: 32,\n          ml: -0.5,\n          mr: 1\n        },\n        '&::before': {\n          content: '\"\"',\n          display: 'block',\n          position: 'absolute',\n          top: 0,\n          right: 14,\n          width: 10,\n          height: 10,\n          bgcolor: 'background.paper',\n          transform: 'translateY(-50%) rotate(45deg)',\n          zIndex: 0\n        }\n      }\n    },\n    transformOrigin: {\n      horizontal: 'right',\n      vertical: 'top'\n    },\n    anchorOrigin: {\n      horizontal: 'right',\n      vertical: 'bottom'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: redirectToProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), \" Profile\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: function onClick() {\n      return logout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Logout, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })), \"Logout\")));\n}","map":{"version":3,"names":["React","useState","Logout","gql","useMutation","useQuery","Box","Avatar","Menu","MenuItem","ListItemIcon","Divider","IconButton","Tooltip","Loading","CURRENT_USER","_templateObject","_taggedTemplateLiteral","LOGOUT_USER","_templateObject2","AccountMenu","_data$currentUser","_useMutation","onCompleted","window","location","replace","_useMutation2","_slicedToArray","logout","_useQuery","data","loading","console","log","_useState","_useState2","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","redirectToProfile","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","sx","display","alignItems","textAlign","title","onClick","size","paddingTop","undefined","width","height","_toConsumableArray","currentUser","firstName","id","onClose","PaperProps","elevation","overflow","filter","mt","ml","mr","content","position","top","right","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","fontSize"],"sources":["/Users/admin/Desktop/project-ges/app/javascript/components/main/AccountMenu.tsx"],"sourcesContent":["import React, { useState, MouseEvent } from 'react'\nimport { Logout } from '@mui/icons-material'\nimport { gql, useMutation, useQuery } from '@apollo/client'\nimport {\n  Box,\n  Avatar,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  Divider,\n  IconButton,\n  Tooltip\n} from '@mui/material'\nimport Loading from '../shared/Loading';\n\nconst CURRENT_USER = gql`\nquery CurrentUser {\n  currentUser{\n    firstName\n    imageUrl\n  }\n}\n`;\n\nconst LOGOUT_USER = gql`\nmutation LogoutUser(\n  $email: String!\n) {\n  logoutUser(\n    input: {\n      email: $email,\n    }\n  ){\n    id\n  }\n}\n`;\n\nexport default function AccountMenu(): JSX.Element {\n  const [logout] = useMutation(LOGOUT_USER, {\n    onCompleted: () => {\n      window.location.replace('/log_in')\n    }\n  })\n  const { data, loading } = useQuery(CURRENT_USER)\n  console.log(loading)\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)\n  const open = Boolean(anchorEl)\n\n  const handleClick = (event: MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n  const handleClose = (): void => {\n    setAnchorEl(null)\n  }\n\n  const redirectToProfile = (): void => window.location.replace('/profile')\n\n  if (loading) return <Loading />\n  return (\n    <>\n      <Box sx={{ display: 'flex', alignItems: 'center', textAlign: 'center' }}>\n        <Tooltip title=\"Account settings\">\n          <IconButton\n            onClick={handleClick}\n            size=\"medium\"\n            sx={{ paddingTop: 0 }}\n            aria-controls={open ? 'account-menu' : undefined}\n            aria-haspopup=\"true\"\n            aria-expanded={open ? 'true' : undefined}\n          >\n            {/* {<Avatar alt='user_avatar' src={require(data.currentUser.imageUrl)} /> */}\n            <Avatar sx={{ width: 40, height: 40 }}>{[...data?.currentUser?.firstName][0]}</Avatar>\n          </IconButton>\n        </Tooltip>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        id=\"account-menu\"\n        open={open}\n        onClose={handleClose}\n        onClick={handleClose}\n        PaperProps={{\n          elevation: 0,\n          sx: {\n            overflow: 'visible',\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n            mt: 1.5,\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n            },\n            '&::before': {\n              content: '\"\"',\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              right: 14,\n              width: 10,\n              height: 10,\n              bgcolor: 'background.paper',\n              transform: 'translateY(-50%) rotate(45deg)',\n              zIndex: 0,\n            },\n          },\n        }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n      >\n        <MenuItem onClick={redirectToProfile}>\n          <Avatar /> Profile\n        </MenuItem>\n        <Divider />\n        <MenuItem onClick={() => logout()}>\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          Logout\n        </MenuItem>\n      </Menu>\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}