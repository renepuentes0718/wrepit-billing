{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/project-ges/app/javascript/components/profile/ImageUploadModal.tsx\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport React, { useState } from 'react';\nimport Button from '@mui/material/Button';\nimport Modal from '@mui/material/Modal';\nimport { Formik } from 'formik';\nimport Banner from '../shared/Banner';\nimport { Box } from '@mui/material';\nimport FileUploadForm from '../forms/FileUploadForm';\nimport { useMutation } from '@apollo/client';\nimport { UPLOAD_FILE } from '../api/mutations';\nvar initialValue = {\n  image: ''\n};\nvar style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '3px solid #5bbff1',\n  borderRadius: '5px',\n  boxShadow: 24,\n  p: 4\n};\nexport default function ImageUploadModal() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var handleOpen = function handleOpen() {\n    return setOpen(true);\n  };\n  var handleClose = function handleClose() {\n    return setOpen(false);\n  };\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    message = _useState4[0],\n    setMessage = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    severity = _useState6[0],\n    setSeverity = _useState6[1];\n  var _useMutation = useMutation(UPLOAD_FILE, {\n      onCompleted: function onCompleted(data) {\n        if (!!data) {\n          console.log('good');\n          setSeverity('success');\n          setMessage('File was uploaded successfully');\n        }\n      },\n      onError: function onError() {\n        console.log('bad');\n        setSeverity('error');\n        setMessage('Sorry, File could not be uploaded');\n      }\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    uploadFile = _useMutation2[0],\n    loading = _useMutation2[1].loading;\n  console.log(\"Is very\", loading);\n  var handleSubmit = function handleSubmit(event) {\n    console.log(event);\n    uploadFile({\n      variables: {\n        image: event.image\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleOpen,\n    sx: {\n      margin: '40px 0 0 25px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Upload Avatar\"), /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"modal-modal-title\",\n    \"aria-describedby\": \"modal-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, message && /*#__PURE__*/React.createElement(Banner, {\n    severity: severity,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    onSubmit: handleSubmit,\n    initialValues: initialValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FileUploadForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"names":["React","useState","Button","Modal","Formik","Banner","Box","FileUploadForm","useMutation","UPLOAD_FILE","initialValue","image","style","position","top","left","transform","width","bgcolor","border","borderRadius","boxShadow","p","ImageUploadModal","_useState","_useState2","_slicedToArray","open","setOpen","handleOpen","handleClose","_useState3","_useState4","message","setMessage","_useState5","_useState6","severity","setSeverity","_useMutation","onCompleted","data","console","log","onError","_useMutation2","uploadFile","loading","handleSubmit","event","variables","createElement","Fragment","onClick","sx","margin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClose","onSubmit","initialValues"],"sources":["/Users/admin/Desktop/project-ges/app/javascript/components/profile/ImageUploadModal.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport Button from '@mui/material/Button'\nimport Modal from '@mui/material/Modal'\nimport { Formik } from 'formik'\nimport Banner from '../shared/Banner'\nimport { Box } from '@mui/material'\nimport FileUploadForm from '../forms/FileUploadForm'\nimport { useMutation } from '@apollo/client'\nimport { UPLOAD_FILE } from '../api/mutations'\n\nconst initialValue = {\n  image: '',\n}\n\ninterface ImageProps {\n  imageUrl: string\n}\n\nconst style = {\n  position: 'absolute' as 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '3px solid #5bbff1',\n  borderRadius: '5px',\n  boxShadow: 24,\n  p: 4,\n};\n\nexport default function ImageUploadModal(): JSX.Element {\n  const [open, setOpen] = useState(false)\n  const handleOpen = () => setOpen(true)\n  const handleClose = () => setOpen(false)\n  const [message, setMessage] = useState('')\n  const [severity, setSeverity] = useState(null)\n\n  const [uploadFile, { loading }] = useMutation(UPLOAD_FILE, {\n    onCompleted: (data) => {\n      if (!!data) {\n        console.log('good')\n        setSeverity('success')\n        setMessage('File was uploaded successfully')\n      }\n    },\n    onError: () => {\n      console.log('bad')\n      setSeverity('error')\n      setMessage('Sorry, File could not be uploaded')\n    }\n  })\n  console.log(\"Is very\", loading)\n  const handleSubmit = (event) => {\n    console.log(event)\n    uploadFile({ variables: { image: event.image } })\n  }\n\n  return (\n    <>\n      <Button\n        onClick={handleOpen}\n        sx={{ margin: '40px 0 0 25px' }}\n      >\n        Upload Avatar\n      </Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          {message && <Banner severity={severity} message={message} />}\n          <Formik\n            onSubmit={handleSubmit}\n            initialValues={initialValue}\n          >\n            <FileUploadForm />\n          </Formik>\n        </Box>\n      </Modal>\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}