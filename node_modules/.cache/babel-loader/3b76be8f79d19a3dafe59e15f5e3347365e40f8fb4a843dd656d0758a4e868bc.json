{"ast":null,"code":"import { Feature } from '../Feature.mjs';\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n  constructor() {\n    super(...arguments);\n    this.id = id++;\n  }\n  update() {\n    if (!this.node.presenceContext) return;\n    const _this$node$presenceCo = this.node.presenceContext,\n      isPresent = _this$node$presenceCo.isPresent,\n      onExitComplete = _this$node$presenceCo.onExitComplete;\n    const _ref = this.node.prevPresenceContext || {},\n      prevIsPresent = _ref.isPresent;\n    if (!this.node.animationState || isPresent === prevIsPresent) {\n      return;\n    }\n    const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n    if (onExitComplete && !isPresent) {\n      exitAnimation.then(() => onExitComplete(this.id));\n    }\n  }\n  mount() {\n    const _ref2 = this.node.presenceContext || {},\n      register = _ref2.register;\n    if (register) {\n      this.unmount = register(this.id);\n    }\n  }\n  unmount() {}\n}\nexport { ExitAnimationFeature };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}